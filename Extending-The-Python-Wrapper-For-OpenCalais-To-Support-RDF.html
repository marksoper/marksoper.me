<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"> 
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en"> 
    <head> 
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /> 
        <title>Extending the Python Wrapper for OpenCalais to Support RDF</title>
        <link rel="stylesheet" type="text/css" href="media/style.css" /> 
	

<script src="http://www.google.com/jsapi?key=ABQIAAAA013Fbnk_R3bj8DpYypMVuRR3TWqof-ahEEWSSYuqjUDLpyA16RTz1Z5kkEnfyCYN5myulmJrDZF7tA" type="text/javascript"></script> 
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.4.2/jquery.min.js"></script>
<script type="text/javascript" src="media/js/ga.js"></script>
<script src="/media/js/ready.js" type="text/javascript"></script>
    </head> 
    <body> 
        <ul id="nav">
    <li><a href="http://soper.me">Home</a></li>

    <li>
      <a href="http://soper.me/about">About</a>
    </li>

    <li>

   <div id="contact">
       <ul id="contactList">
         <li>
           <div class="contactDiv" >
             <a href="http://feeds.feedburner.com/MarkSopersBlog" title="Subscribe to Mark Soper's Blog">
               <img src="/media/images/rss.png" alt="RSS Logo" />
             </a>
           </div>
         </li>
         <li>
           <div class="contactDiv">
             <a href="http://github.com/marksoper" title="Mark Soper on Github">
               <img src="/media/images/gh.png" alt="Github logo" style="margin-left:-6px;width:64px"/>
             </a>
           </div>
         </li>
         <li>
           <div class="contactDiv">
             <a href="http://www.linkedin.com/in/marksoper" title="Mark Soper on LinkedIn">
               <img src="/media/images/li.gif" alt="LinkedIn logo" />
             </a>
           </div>
         </li>
         <li>
           <div class="contactDiv">
             <a href="https://profiles.google.com/masoper" title="Mark Soper's Google Profile">
               <img src="/media/images/gm.png" alt="Google Mail Logo" />
             </a>
           </div>
         </li>
         <li>
           <div class="contactDiv">
             <a href="http://twitter.com/marksoper" title="Mark Soper on Twitter">
               <img src="/media/images/tw.png" alt="Twitter logo" />
             </a>
           </div>
         </li>
         <li>
           <div class="contactDiv">
             <a href="http://www.facebook.com/masoper" title="Mark Soper on Facebook">
               <img src="/media/images/fb.png" alt="Facebook Logo" />
             </a>
           </div>
         </li>
         <li>
           <div class="contactDiv">
             <a href="http://www.flickr.com/marksoper" title="Mark Soper on Flickr">
               <img src="/media/images/fl.png" alt="Flickr Logo" />
             </a>
           </div>
         </li>
       </ul>
   </div>

   </li>    


        <li>Tags
        <ul>
                    <li><a href="backbone.html">backbone</a></li>
                    <li><a href="javascript.html">javascript</a></li>
                    <li><a href="python.html">python</a></li>
                    <li><a href="nlp.html">nlp</a></li>
                    <li><a href="opencalais.html">opencalais</a></li>
                    <li><a href="job search.html">job search</a></li>
                    <li><a href="startups.html">startups</a></li>
                    <li><a href="personalization.html">personalization</a></li>
                    <li><a href="news reader.html">news reader</a></li>
                    <li><a href="static site.html">static site</a></li>
                    <li><a href="petrify.html">petrify</a></li>
                    <li><a href="node.js.html">node.js</a></li>
                    <li><a href="logging.html">logging</a></li>
                    <li><a href="analytics.html">analytics</a></li>
                    <li><a href="real-time.html">real-time</a></li>
                    <li><a href="api.html">api</a></li>
                    <li><a href="fitness.html">fitness</a></li>
                    <li><a href="runkeeper.html">runkeeper</a></li>
                    <li><a href="family.html">family</a></li>
                    <li><a href="personal.html">personal</a></li>
                    <li><a href="jsdom.html">jsdom</a></li>
                    <li><a href="jquery.html">jquery</a></li>
                    <li><a href="mustache.html">mustache</a></li>
                    <li><a href="DOM.html">DOM</a></li>
                    <li><a href="TED.html">TED</a></li>
                    <li><a href="technology.html">technology</a></li>
                    <li><a href="creativity.html">creativity</a></li>
                    <li><a href="inspiration.html">inspiration</a></li>
                    <li><a href="mobile web.html">mobile web</a></li>
                    <li><a href="jquery mobile.html">jquery mobile</a></li>
                </ul>
    </li>
    
</ul>







        <div class="container">
	    <div class="blogTitleOnArticle">
	      <a href="/">Mark Soper's Blog</a>
	    </div>
                          <div class="articleHeader">
		<div class="articleTitle">
                  <h1>Extending the Python Wrapper for OpenCalais to Support RDF</h1>
		</div>

		<div class="articleDate">
                  <div class="articleWeekday">
                    Thursday
                  </div>
                  <div class="articleDay">
                    Apr 16
                  </div>
                  <div class="articleYear">
                    2009
                  </div>
		</div>
	      </div>
             
                <div class="tags">
                    <ul>
                                            <li><a href="python.html">python</a></li>
                                            <li><a href="nlp.html">nlp</a></li>
                                            <li><a href="opencalais.html">opencalais</a></li>
                                          </ul>
                </div>
                

<p>We’ve been working for some time with Jordan Dimov&#039;s <a href="http://code.google.com/p/python-calais/" title="Python OpenCalais Wrapper">python-calais</a>, a Python wrapper for the <a href="http://opencalais.com" title="OpenCalais">OpenCalais Semantic Text Annotation Service</a>.  For Likematter, we extended its native support for OpenCalais’ JSON response type to include support for OpenCalais’ RDF output.  Several people expressed interest in using rdflib with OpenCalais at last night’s Python meetup in Cambridge, MA - so I’ve packaged up our RDF extension as a starting point/example for folks looking to process OpenCalais RDF in Python apps.</p>

<p>The reason to use RDF over JSON is that the RDF output contains a fuller representation of the analysis OpenCalais produces.   As just one minor example, the full de-referenceable URLs for each entity type (e.g. Country, Person, etc.) aren’t present in the JSON.  The drawback to using RDF is that it’s much harder to interpret and translate into Python objects than JSON.   The code here includes the SPARQL to obtain only part of what OpenCalais produces, entities and categories, but should serve as a starting point to working with OpenCalais’ RDF.
Our RDF extension has been  added to the python-calais google-code repository.  The key SPARQL queries for categories and entities are below.</p>

<pre>
CATEGORY_QUERY = { ‘fields’ : [&#039;docId&#039;, &#039;category&#039;, &#039;categoryName&#039;, &#039;score&#039;],
‘SPARQL’ : “”&quot;
PREFIX rdf: <http:>
PREFIX cp: <http:></http:>
SELECT ?docId ?category ?categoryName ?score
WHERE { ?doc cp:docId ?docId .
?doc cp:category ?category .
?doc cp:categoryName ?categoryName .
?doc cp:score ?score . }
“”&quot;  }
</http:></pre>

<pre>
ENTITY_QUERY = { ‘fields’ : [&#039;entityId&#039;, &#039;name&#039;, &#039;type&#039;, &#039;relevance&#039;, &#039;resolves_to_uri&#039;, &#039;resolves_to_type&#039;, &#039;resolves_to_name&#039;, &#039;resolves_to_score&#039;],
‘SPARQL’ : “”&quot;
PREFIX rdf: <http:>
PREFIX cp: <http:></http:>
SELECT ?entity ?name ?type ?relevance ?res_uri ?res_type ?res_name ?res_score
WHERE {?entity cp:name ?name .
?entity rdf:type ?type .
?rel_uri cp:subject ?entity .
?rel_uri cp:relevance ?relevance .
OPTIONAL { ?res_uri cp:subject ?entity .
?res_uri rdf:type ?res_type .
?res_uri cp:name ?res_name . }
}
“”&quot;  }
</http:></pre>
            
	    <div id="disqus_thread"></div>

<script>
/* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
var disqus_shortname = 'marksopersblog'; // required: replace example with your forum shortname

// The following are highly recommended additional parameters. Remove the slashes in front to use.
var disqus_identifier = window.location.href;
var disqus_url = window.location.href;

/* * * DON'T EDIT BELOW THIS LINE * * */
(function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">blog comments powered by <span class="logo-disqus">Disqus</span></a>

        </div>
	
<script src="/media/js/mixpanel1.js" type="text/javascript"></script>
<script src="/media/js/mixpanel2.js" type="text/javascript"></script>

    </body>
</html>
