
                          <div class="articleHeader">
		<div class="articleTitle">
                  <h1>My New Blog Using Static Website Generator Petrify and Node.js</h1>
		</div>

		<div class="articleDate">
                  <div class="articleWeekday">
                    Monday
                  </div>
                  <div class="articleDay">
                    Apr 25
                  </div>
                  <div class="articleYear">
                    2011
                  </div>
		</div>
	      </div>
             
                <div class="tags">
                    <ul>
                                            <li><a href="static site.html">static site</a></li>
                                            <li><a href="petrify.html">petrify</a></li>
                                          </ul>
                </div>
                

<p>I&#039;ve been heads down on <a href="http://rallyplan.com" title="Rally: Time-sensitive announcements from your Twitter friends">a startup</a> for way too long.  It&#039;s been a great learning experience - a piece about what was learned will be coming soon.  Now it&#039;s time to move on.  I&#039;m looking forward to getting into some new things and back into writing more regularly.  This shiny new blog will be a good place to do that.</p>

<p>I made this blog using <a href="https://github.com/caolan/petrify" title="A flexible static site generator for node.js">Petrify</a>, a static site generator based on <a href="http://nodejs.org" title="Node.js">Node.js</a>. It seems an unusual application of Node, and with <a href="https://github.com/mojombo/jekyll" title="Jekyll">Jekyll</a>(Ruby), <a href="http://ringce.com/hyde" title="Hyde">Hyde</a>(Python), and others being more popular perhaps a bit riskier choice.  After digging in to it I found it very well made, satisfying the two major criteria for a static site generator:</p>

<ol>
<li>Written in a language you like working in (<a href="https://developer.mozilla.org/en/JavaScript/Reference" title="Javascript">Javascript</a>) so you can enjoy customizing</li>
<li>Makes good choices in key areas like markup language (<a href="http://daringfireball.net/projects/markdown/syntax" title="Markdown">Markdown</a>) and templates (<a href="http://json-template.googlecode.com/svn/trunk/doc/Introducing-JSON-Template.html" title="JSON Templates">JSON Templates</a>).</li>
</ol>

<p><u>Update</u>: Petrify doesn&#039;t have a lot of blogging features - e.g. there doesn&#039;t seem to be anything built in that orders articles by date decreasing. This was easy enough to add to the example site&#039;s home.js view:</p>

<pre>
// wait until the navigation and articles views are complete                                                                       
exports.requires = [&#039;navigation&#039;, &#039;articles&#039;];
exports.run = function(view, context){
    // render the home template                                                                                                    
    var html = context.templates[&#039;home.jsont&#039;].expand({
            articles: context.data.sort(function(a, b) {
                    return b.date - a.date;
                }),
        partials: context.partials
    });
    view.emit(&#039;index.html&#039;, html);
};
</pre>

<p>The blogging main blogging feature it does have, tagging, is handled nicely. In the default configuration the tag menu showed up where I would have wanted in the nav section, tags are nicely associated with articles, and basic pages listing articles under each tag are created automatically and look pretty good.  Adding sub-directories for tag and year list pages would make a lot of sense.</p>
            

