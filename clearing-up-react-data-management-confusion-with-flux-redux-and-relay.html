
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
        <title>React Data Management Confusion</title>

        <link rel="canonical" />

<style type="text/css">ul.lst-kix_jubgn4b2ml5y-0{list-style-type:none}.lst-kix_jubgn4b2ml5y-6>li:before{content:"\0025cf  "}ul.lst-kix_jubgn4b2ml5y-1{list-style-type:none}ul.lst-kix_jubgn4b2ml5y-2{list-style-type:none}.lst-kix_jubgn4b2ml5y-7>li:before{content:"\0025cb  "}ul.lst-kix_jubgn4b2ml5y-3{list-style-type:none}ul.lst-kix_jubgn4b2ml5y-4{list-style-type:none}.lst-kix_jubgn4b2ml5y-8>li:before{content:"\0025a0  "}.lst-kix_jubgn4b2ml5y-4>li:before{content:"\0025cb  "}.lst-kix_jubgn4b2ml5y-5>li:before{content:"\0025a0  "}ul.lst-kix_jubgn4b2ml5y-5{list-style-type:none}ul.lst-kix_jubgn4b2ml5y-6{list-style-type:none}ul.lst-kix_jubgn4b2ml5y-7{list-style-type:none}.lst-kix_jubgn4b2ml5y-2>li:before{content:"\0025a0  "}.lst-kix_jubgn4b2ml5y-3>li:before{content:"\0025cf  "}.lst-kix_jubgn4b2ml5y-0>li:before{content:"\0025cf  "}.lst-kix_jubgn4b2ml5y-1>li:before{content:"\0025cb  "}ul.lst-kix_jubgn4b2ml5y-8{list-style-type:none}ol{margin:0;padding:0}.c9{background-color:#ffffff;max-width:468pt;padding:72pt 72pt 72pt 72pt}.c1{orphans:2;widows:2;direction:ltr}.c2{color:inherit;text-decoration:inherit}.c8{padding:0;margin:0}.c5{color:#1155cc;text-decoration:underline}.c6{margin-left:36pt;padding-left:0pt}.c7{font-weight:bold}.c0{font-style:italic}.c3{height:11pt}.c4{page-break-after:avoid}.title{padding-top:0pt;color:#000000;font-size:26pt;padding-bottom:3pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}.subtitle{padding-top:0pt;color:#666666;font-size:15pt;padding-bottom:16pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}li{color:#000000;font-size:11pt;font-family:"Arial"}p{margin:0;color:#000000;font-size:11pt;font-family:"Arial"}h1{padding-top:20pt;color:#000000;font-size:20pt;padding-bottom:6pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h2{padding-top:18pt;color:#000000;font-size:16pt;padding-bottom:6pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h3{padding-top:16pt;color:#434343;font-size:14pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h4{padding-top:14pt;color:#666666;font-size:12pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h5{padding-top:12pt;color:#666666;font-size:11pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h6{padding-top:12pt;color:#666666;font-size:11pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;font-style:italic;orphans:2;widows:2;text-align:left}</style>

        <link rel="stylesheet" type="text/css" href="site.css" />
        <link rel="stylesheet" type="text/css" href="blog.css" />

<script src="site.js"></script>

    </head>
    <body>

     <div class="header">

      <div class="title">
        <a href="./" title="Mark Soper">
          <div class="header-h2">Mark Soper
            <br>
            <span class="profession">
              Software Engineer
            </span>
            <br>
            <span class="location">
              Cambridge, MA
            </span>
          </div>
        </a>
      </div>

      <div class="nav">
        <ul>

          <li>
            <a href="./#contact" title="Contact Mark Soper">
              Contact
            </a>
          </li>

          <li>
            <a href="./#blog" title="Mark Soper's Blog">
              Blog
            </a>
          </li>

          <li>
            <a href="./#projects" title="Mark Soper's Projects">
              Projects
            </a>
          </li>

        </ul>
      </div>

    </div>


        <div class="container">


                          <div class="articleHeader">
    <div class="articleTitle">
                  <h1>Clearing up React Data Management Confusion with Flux, Redux, and Relay</h1>
    </div>

    <div class="articleDate">
                  <div class="articleWeekday">
                    Thursday
                  </div>
                  <div class="articleDay">
                    Dec 3
                  </div>
                  <div class="articleYear">,
                    2015
                  </div>
    </div>
        </div>





<p class="c1 c3"><span></span></p><p class="c1"><span>In discussing a recent decision to use </span><span class="c5"><a class="c2" href="https://github.com/rackt/redux">Redux</a></span><span>&nbsp;for a project, I&rsquo;ve been asked several times why one would use a </span><span class="c5"><a class="c2" href="https://facebook.github.io/flux/">Flux</a></span><span>-based pattern like Redux </span><span>now that approaches like Facebook&rsquo;s </span><span class="c5"><a class="c2" href="https://facebook.github.io/relay/">Relay</a></span><span>&nbsp;or Netflix&rsquo;s </span><span class="c5"><a class="c2" href="https://netflix.github.io/falcor/">Falcor</a></span><span>&nbsp;are available. </span></p><h2 class="c1 c4"><a name="h.849zd3w19c09"></a><span class="c0">Question: Why use Flux or Redux now that Relay is available?</span></h2><p class="c1"><span>The frequency of the question suggests that there may be some ongoing general confusion about the various data management approaches that are part of a rapidly-evolving ecosystem inspired by React. This post hopes to clear up confusion for product owners, designers, or engineers who might not already be familiar with data management in the React ecosystem. </span></p><h2 class="c1 c4"><a name="h.kmp92yymbfu7"></a><span>The Short Answer</span></h2><p class="c1 c3"><span></span></p><ul class="c8 lst-kix_jubgn4b2ml5y-0 start"><li class="c1 c6"><span class="c7">Flux/Redux</span><span>&nbsp;are </span><span class="c0">client-side only data management patterns</span><span>, completely decoupled from your API service, suitable for situations where you&rsquo;re doing design/dev on front-end only, and suitable for use with any backend.<br></span></li><li class="c1 c6"><span class="c7">Relay/Falcor</span><span>&nbsp;are </span><span class="c0">end-to-end data management patterns</span><span>, only suitable for situations where you&rsquo;re designing an end-to-end application. Can have big implications on your backend - e.g. Relay requires a </span><span class="c5"><a class="c2" href="https://github.com/facebook/graphql">GraphQL</a></span><span>-based API service.</span></li></ul><p class="c1 c3"><span></span></p><h2 class="c1 c4"><a name="h.wsq91xmgnx2"></a><span>Background on React and Web Application Data Management</span></h2><p class="c1 c3"><span></span></p><p class="c1"><span>React, a Javascript library from Facebook, has taken center-stage in client-side web development this year. It provides an interface to the DOM, the browser&rsquo;s HTML content layer, that gives developers a simple, powerful model for managing the user experience: compose the UI from components that get updated completely (as opposed to making individual changes) whenever relevant application state changes occur. Any events - whether new data from the server or an action from the user - that impact the UI, are to be handled by some data management layer (hence the need for Flux - see below), applied directly to the application state, triggering the view layer to update completely. This unidirectional flow radically simplifies the development challenge compared to alternative approaches that involve making individual UI updates in response to events. React provides &ldquo;diffing&rdquo; functionality that makes this otherwise impractical approach highly performant.</span></p><p class="c1 c3"><span></span></p><h2 class="c1 c4"><a name="h.3zbh70lcsx1s"></a><span>React with Basic Client-Side Data Management</span></h2><p class="c1 c3"><span></span></p><p class="c1"><span>React isn&rsquo;t a complete client-side framework like Angular or Ember. It only addresses a single, very important aspect of the application, it&rsquo;s view layer: given the data that the UI needs at a given time, how does the application appropriately update the UI to reflect this data. React&rsquo;s approach to the view layer has proven so compelling that this approach is quickly becoming the standard for client-side web development, driving a massive shift toward adoption of React itself and causing the other major frameworks to adopt some variation of its unidirectional data flow with DOM diffing model.</span></p><p class="c1 c3"><span></span></p><p class="c1"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 624.00px; height: 200.00px;"><img alt="confusion - react.png" src="media/images/image00.png" style="width: 624.00px; height: 200.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c1 c3"><span></span></p><p class="c1"><span>Because it handles only the view layer, developers compliment React with other technologies to round out client-side functionality, particularly routing and data management. The developments in the data management area are especially interesting. They fall into two categories: </span><span class="c0">client-only </span><span>and </span><span class="c0">end-to-end</span><span>.</span></p><p class="c1 c3"><span></span></p><h2 class="c1 c4"><a name="h.gr8ol2s8qv9u"></a><span>React with Flux/Redux Client-side Data Management</span></h2><p class="c1 c3"><span></span></p><p class="c1"><span>The React community began to consolidate around a pattern for data management called Flux, also promoted by Facebook. With similarities to existing software design patterns like CQRS, Flux isn&rsquo;t entirely new, but it brought a new way of thinking about data to client-side web development.</span></p><p class="c1 c3"><span></span></p><p class="c1"><span>The main value of the Flux pattern is that it combines with the open-circuit unidirectional flow of React to create a closed-circuit unidirectional flow suitable for building complete client-side applications.</span></p><p class="c1 c3"><span></span></p><p class="c1"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 624.00px; height: 329.33px;"><img alt="confusion - flux.png" src="media/images/image02.png" style="width: 624.00px; height: 329.33px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c1 c3"><span></span></p><p class="c1"><span>The &ldquo;cartoon&rdquo; overviews of </span><span class="c5"><a class="c2" href="https://code-cartoons.com/a-cartoon-guide-to-flux-6157355ab207">Flux</a></span><span>&nbsp;and </span><span class="c5"><a class="c2" href="https://code-cartoons.com/a-cartoon-intro-to-redux-3afb775501a6">Redux</a></span><span>&nbsp;more fully explain these patterns </span><span>- e.g. expanding on the &ldquo;Other Stuff&rdquo; piece this diagram doesn&rsquo;t cover.</span></p><p class="c1 c3"><span></span></p><h2 class="c1 c4"><a name="h.crdiyidtlt07"></a><span>React with Relay End-to-End Data Management</span></h2><p class="c1 c3"><span></span></p><p class="c1"><span>With Relay, and a similar middleware library from Netflix called Falcor, we get end-to-end data management frameworks oriented toward the React ecosystem. They provide standard functionality for synchronizing data between the client and the backend, potentially reducing the burden on front-end developers relative to the Flux/Redux scenario. We&rsquo;ll look a bit at Relay and leave Falcor for another time. </span></p><p class="c1 c3"><span></span></p><p class="c1"><span>As mentioned above, Relay is an end-to-end approach, meaning it has major implications on the backend, specifically that the API implement GraphQL. This is significant issue for many teams who may have existing REST APIs or who may favor REST as a design pattern for APIs moving forward.</span></p><p class="c1 c3"><span></span></p><p class="c1"><span>Relay self-describes as a framework for &ldquo;</span><span class="c0">declarative data fetching</span><span>&rdquo;. By declaring only </span><span class="c0">what data is to be fetched</span><span>, the traditional engineering effort associated with developing </span><span class="c0">how the data is to be fetched</span><span>&nbsp;is minimized. A more maintainable, less fragile system can be built that reduces ongoing engineering effort as well. Relay emphasizes that data declarations be made at a UI component level, which encourages effective front-end modularization as a weapon against complexity and overall cost. Relay&rsquo;s cache management is a key example of logic that might otherwise require significant engineering effort.</span></p><p class="c1 c3"><span></span></p><p class="c1"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 624.00px; height: 456.00px;"><img alt="confusion - relay.png" src="media/images/image01.png" style="width: 624.00px; height: 456.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span>&nbsp;</span></p><p class="c1 c3"><span></span></p><p class="c1 c3"><span></span></p><p class="c1"><span>For teams who are able to adopt GraphQL and are thus eligible to use Relay, there&rsquo;s big potential for benefits. The main benefit for most projects is that the Relay-GraphQL combination minimizes the need for developing one-off functionality in the &ldquo;API Wrapper&rdquo; piece of the Flux/Redux scenario. As apps evolve, this functionality can accrue a lot of complexity, with engineering teams continually re-inventing a wheel that&rsquo;s not typically at the heart of the domain their app addresses.</span></p><p class="c1 c3"><span></span></p><p class="c1 c3"><span></span></p><p class="c1 c3"><span></span></p><p class="c1 c3"><span></span></p>





      <div id="disqus_thread"></div>

<script>
/* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
var disqus_shortname = 'marksopersblog'; // required: replace example with your forum shortname

// The following are highly recommended additional parameters. Remove the slashes in front to use.
var disqus_identifier = window.location.href;
var disqus_url = window.location.href;

/* * * DON'T EDIT BELOW THIS LINE * * */
(function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">blog comments powered by <span class="logo-disqus">Disqus</span></a>

        </div>

    </body>
</html>
